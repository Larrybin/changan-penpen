# Load .env.development* files when running `wrangler dev`
NEXTJS_ENV=development

# Base URL used for canonical tags and structured data
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Comma-separated allowlist for remote image hosts (optional)
NEXT_PUBLIC_IMAGE_HOSTS=cdn.example.com,images.example.com

# Health endpoint access token (set to enforce detailed output auth; send via X-Health-Token or Authorization: Bearer)
HEALTH_ACCESS_TOKEN=

# Observability / Monitoring
# 使用 Cloudflare Workers Analytics 与 `wrangler tail` 日志即可覆盖基础监控；
# 如需第三方告警，可在此处自定义相关变量。

# Drizzle Kit credentials for D1
# Get your Account ID from: https://dash.cloudflare.com/ (right sidebar)
# Get your API Token from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_ACCOUNT_ID=your-account-id-here
CLOUDFLARE_D1_DATABASE_ID=your-d1-database-id-here
CLOUDFLARE_D1_TOKEN=your-api-token-here

# Creem (test/staging values suggested)
CREEM_API_URL=https://api.creem.dev
# Optional default redirect URLs when not inferred from request origin
CREEM_SUCCESS_URL=http://localhost:3000/billing/success
CREEM_CANCEL_URL=http://localhost:3000/billing/cancel

# Local-only examples (put real values in .dev.vars, not committed) or set via `wrangler secret put`
CREEM_API_KEY=your-creem-api-key
CREEM_WEBHOOK_SECRET=whsec_xxx
CREEM_LOG_WEBHOOK_SIGNATURE=1
CLOUDFLARE_R2_URL=your-r2-url-here
CLOUDFLARE_API_TOKEN=your-api-token-here
UPSTASH_REDIS_REST_URL=https://us1-example.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-rest-token

# AI Translation
TRANSLATION_PROVIDER=gemini
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=models/gemini-1.5-pro-latest
OPENAI_API_KEY=your-openai-api-key
OPENAI_TRANSLATION_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1

# Authentication
BETTER_AUTH_SECRET=your-better-auth-secret # see https://www.better-auth.com/docs/installation
BETTER_AUTH_URL=http://localhost:3000 # Base URL of your app - should use the deployed URL in Workers for prod

# Google Auth : see https://www.better-auth.com/docs/authentication/google
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Cloudflare Turnstile
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your-turnstile-site-key
TURNSTILE_SECRET=your-turnstile-secret

# Admin dashboard access
ADMIN_ALLOWED_EMAILS=admin@example.com
ADMIN_ENTRY_TOKEN=local-admin-token
ADMIN_FORCE_SECURE_COOKIES=false

# Cache revalidation webhook token (used by /api/admin/cache/revalidate)
CACHE_REVALIDATE_TOKEN=local-cache-token

# External API guardrails (optional runtime overrides for services.external_apis)
EXTERNAL_API_RETRY_ATTEMPTS=5
EXTERNAL_API_FAILURE_THRESHOLD=3
EXTERNAL_API_RECOVERY_TIMEOUT_SECONDS=30

# GitHub Actions 配置指引（请到仓库 Settings → Secrets and variables → Actions）
# Secrets（敏感，CI 会通过 wrangler-action 下发到 Cloudflare Secrets）：
# - CLOUDFLARE_API_TOKEN
# - CLOUDFLARE_ACCOUNT_ID
# - BETTER_AUTH_SECRET
# - GOOGLE_CLIENT_ID
# - GOOGLE_CLIENT_SECRET
# - CREEM_API_KEY
# - CREEM_WEBHOOK_SECRET
# Variables（可选，非敏感；我们已在 wrangler.toml 的 vars/环境覆盖中给出默认值，亦可在 Cloudflare Dashboard 配置）：
# - CREEM_API_URL
# - CREEM_SUCCESS_URL
# - CREEM_CANCEL_URL
# - CLOUDFLARE_R2_URL（如需公共访问 URL）
# 提示：新增/修改绑定后，运行 `pnpm run cf-typegen` 同步 Cloudflare env 类型到 cloudflare-env.d.ts。
